# üöÄ –ó–∞–ø—É—Å–∫ AB Test Platform

## –ß—Ç–æ —ç—Ç–æ?

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∫ Google Optimize:
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –û–¥–∏–Ω –º–∞–ª–µ–Ω—å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–∞–π—Ç–µ
- ‚úÖ API –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ú–µ—Ç—Ä–∏–∫–æ–π –∏ Roistat

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–¥–ª—è —Ç–µ—Å—Ç–∞)

```bash
node ab-test-server.js
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:9999

### 2. –ó–∞–ø—É—Å–∫ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -i ~/.ssh/neurodirectolog_deploy ab-test-server.js ab-test-client.js ab-test-admin.html root@91.222.239.217:/root/ab-test/

# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh -i ~/.ssh/neurodirectolog_deploy root@91.222.239.217

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ
cd /root/ab-test
nohup node ab-test-server.js > server.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
ps aux | grep ab-test-server
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

http://91.222.239.217:9999/ab-test-admin.html

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç

1. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–¢–µ—Å—Ç –Ω–æ–≤–æ–π –≥–ª–∞–≤–Ω–æ–π"
   - –û—Ä–∏–≥–∏–Ω–∞–ª: `/`
   - –¢–µ—Å—Ç: `/new-home`
   - –¢—Ä–∞—Ñ–∏–∫: `50%`
   - UTM —É—Å–ª–æ–≤–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `utm_source` contains `google`
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

### –®–∞–≥ 3: –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –Ω–∞ —Å–∞–π—Ç

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ `<head>` –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ **–ü–ï–†–ï–î** –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–æ–π:

```html
<script src="http://91.222.239.217:9999/ab-test-client.js"></script>
```

### –®–∞–≥ 4: –ì–æ—Ç–æ–≤–æ!

–¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—ã–º –ø–æ–¥—Ö–æ–¥–æ–º

### –ë—ã–ª–æ (—Å—Ç–∞—Ä—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä):
- ‚ùå –ù—É–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
- ‚ùå –í—Å—Ç–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑
- ‚ùå –ù–µ–ª—å–∑—è —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –±–µ–∑ –ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞
- ‚ùå –°–ª–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å —Ç–µ—Å—Ç—ã

### –°—Ç–∞–ª–æ (–Ω–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞):
- ‚úÖ –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–∞–π—Ç–µ –Ω–∞–≤—Å–µ–≥–¥–∞
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–µ–∑ –ø—Ä–∞–≤–∫–∏ —Å–∞–π—Ç–∞

## API Endpoints

```
GET    /api/tests          - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
POST   /api/tests          - –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç
PATCH  /api/tests/:id      - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—è —Ç–µ—Å—Ç–∞
DELETE /api/tests/:id      - –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞

```json
{
  "id": "test_123",
  "name": "–¢–µ—Å—Ç –Ω–æ–≤–æ–π –≥–ª–∞–≤–Ω–æ–π",
  "original_url": "/",
  "test_url": "/new-home",
  "traffic_percent": 50,
  "url_match": "exact",
  "active": true,
  "cookie_days": 30,
  "utm_conditions": [
    {
      "param": "utm_source",
      "operator": "contains",
      "value": "google"
    }
  ]
}
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ú–µ—Ç—Ä–∏–∫–µ

1. –û—Ç—á—ë—Ç—ã ‚Üí –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–∑–∏—Ç–æ–≤
2. –ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `ab_test_id` –∏ `ab_variant`
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ–≥–º–µ–Ω—Ç—ã –¥–ª—è A –∏ B –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
4. –°—Ä–∞–≤–Ω–∏—Ç–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ps aux | grep ab-test-server
kill <PID>
```

## –õ–æ–≥–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f /root/ab-test/server.log
```

---

**–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Google Optimize! üéâ**
