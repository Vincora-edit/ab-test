# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Timeweb

–ù–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ø–ª–æ–π ab-test-generator.html –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä Timeweb.

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
```env
TIMEWEB_HOST=–≤–∞—à-–¥–æ–º–µ–Ω.ru
TIMEWEB_USER=–≤–∞—à-–ª–æ–≥–∏–Ω
TIMEWEB_PATH=/public_html
TIMEWEB_PORT=22
```

### 2. –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–æ–¥ –¥–µ–ø–ª–æ—è

## –ú–µ—Ç–æ–¥ 1: Bash —Å–∫—Ä–∏–ø—Ç (Linux/macOS/Git Bash)

```bash
chmod +x deploy.sh
./deploy.sh
```

## –ú–µ—Ç–æ–¥ 2: PowerShell (Windows)

```powershell
.\deploy.ps1
```

## –ú–µ—Ç–æ–¥ 3: Node.js API

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π:
```bash
npm run deploy
```

## –ú–µ—Ç–æ–¥ 4: HTTP API (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥–∞—à–±–æ—Ä–¥–æ–º)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
npm run deploy:server
# –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:3000
```

–¢–µ–ø–µ—Ä—å –∏–∑ –≤–∞—à–µ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å:
```javascript
fetch('http://localhost:3000/deploy', {
    method: 'POST'
})
.then(r => r.json())
.then(data => {
    console.log('–î–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω:', data.url);
});
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### SSH –∫–ª—é—á–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–í–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH –∫–ª—é—á–∏:

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–µ—Å–ª–∏ –Ω–µ—Ç):
```bash
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```bash
ssh-copy-id –≤–∞—à-–ª–æ–≥–∏–Ω@–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

3. –í `.env` —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –∫–ª—é—á—É:
```env
TIMEWEB_SSH_KEY=/path/to/your/private/key
```

–¢–µ–ø–µ—Ä—å –ø–∞—Ä–æ–ª—å –Ω–µ –Ω—É–∂–µ–Ω!

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–∏–º –¥–∞—à–±–æ—Ä–¥–æ–º

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ Node.js –º–æ–¥—É–ª—è

```javascript
const deploy = require('./deploy-api.js');

async function deployToTimeweb() {
    try {
        await deploy.uploadFile('ab-test-generator.html');
        console.log('‚úì –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω!');
    } catch (error) {
        console.error('‚úó –û—à–∏–±–∫–∞:', error);
    }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç B: HTTP API

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ –∏ –≤—ã–∑—ã–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ fetch/axios:

```javascript
async function deployViaAPI() {
    const response = await fetch('http://localhost:3000/deploy', {
        method: 'POST'
    });
    const result = await response.json();

    if (result.success) {
        console.log('‚úì –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω:', result.url);
    }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç C: Webhook

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhook, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞.

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
```
https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/ab-test-generator.html
```

## ‚ùì –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "Permission denied" –ø—Ä–∏ SSH
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ SSH –∫–ª—é—á: `chmod 600 ~/.ssh/id_rsa`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### "Connection refused"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ SSH –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç (–æ–±—ã—á–Ω–æ 22)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### "No such file or directory" –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `TIMEWEB_PATH` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –û–±—ã—á–Ω–æ —ç—Ç–æ `/public_html` –∏–ª–∏ `/www` –∏–ª–∏ `/httpdocs`

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ nodemon
npm install -g nodemon

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ä–µ–∂–∏–º–µ watch
nodemon --watch ab-test-generator.html --exec "npm run deploy"
```

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ `ab-test-generator.html` –æ–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä!

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–µ–ø–ª–æ–π —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–ú–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –≤–µ—Ä—Å–∏—é –∫ —Ñ–∞–π–ª—É:

```bash
# –í deploy.sh –¥–æ–±–∞–≤—å—Ç–µ:
VERSION=$(date +%Y%m%d-%H%M%S)
scp ab-test-generator.html user@host:/path/ab-test-generator-${VERSION}.html
```

### –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

```bash
ssh user@host "cd /public_html && mv ab-test-generator-backup.html ab-test-generator.html"
```

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å 4 —Å–ø–æ—Å–æ–±–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ Timeweb. –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π –¥–ª—è –≤–∞—à–µ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞.
